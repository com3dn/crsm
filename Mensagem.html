<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Formatador de Mensagens</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" href="img/favicon.svg" type="image/svg+xml">
<link rel="icon" href="img/favicon.ico" type="image/x-icon">
<link rel="icon" href="img/favicon.png" type="image/png">
<link rel="stylesheet" href="style/sidebar_base.css"/>
<!-- Leaflet CSS -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<!-- Leaflet Control Layers Tree CSS -->
<link rel="stylesheet" href="https://unpkg.com/leaflet.control.layers.tree/L.Control.Layers.Tree.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  
<style>
        table {
            width: 1000px;
            border-collapse: collapse;
        }
        table, th, td {
            border: 1px solid black;
        }
        th, td {
            padding: 8px;
            text-align: left;
        }
        .highlight {
            background-color: #f8f8f8;
        }
        body {font-family: Arial, sans-serif;margin: 20px;}
        textarea {height: 150px;}
        button {margin-top: 2px;
		padding: 10px 5px;
		background-color: #007BFF;
		color: #000;
		border: none;
		cursor: pointer;
		font-weight: bold;}
        button:hover {background-color: #06d157;}
		 .tooltip {
            position: relative;
            display: inline-block;
            cursor: help;
        }
        .tooltip .tooltiptext {
            visibility: hidden;
            width: 400px;
            background-color: #555;
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 5px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            margin-left: -100px;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 12px;
        }
        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }
		input[type="file"] {
            margin-top: 5px;
        }
</style>
</head>
<body>
<div id="app-container">
    <nav id="sidebar">
        <div id="sidebar_content">
<div id="user"><img src="img/avatar.png" id="user_avatar" alt="Avatar">
<p id="user_infos"><span class="item-description">CRSM</span><span class="item-description">COM3DN</span></p>
</div>
            <ul id="side_items">
                <li class="side-item"><a href="index.html"><i class="fa-solid fa-landmark"></i>
                    <span class="item-description">Inicio</span></a>
                </li>
				
                <li class="side-item"><a href="Map.html"><i class="fa-solid fa-globe"></i>
                    <span class="item-description">Mapa Interativo</span></a>
                </li>
                <li class="side-item "><a href="calculadora.html"><i class="fa-solid fa-calculator"></i>
                    <span class="item-description">Calculadora de ETA</span></a>
                </li>  
                <li class="side-item"><a href="consulta-mmsi.html"><i class="fa-solid fa-flag"></i>
                    <span class="item-description">Consulta MMSI</span></a>
                </li>  
                <li class="side-item"><a href="conversor-gms.html"><i class="fa-solid fa-compass"></i>
                    <span class="item-description">Conv. GMS >> DECIMAL</span></a>
                </li>
                <li class="side-item"><a href="conversor-decimal.html"><i class="fa-solid fa-gear"></i>
                    <span class="item-description">Conv. DECIMAL >> GMS</span></a>
                </li>
                <li class="side-item"><a href="distancia-portos.html"><i class="fa-solid fa-house-flood-water-circle-arrow-right"></i>
                    <span class="item-description">Distancia x Portos</span></a>
                </li>
		<li class="side-item"><a href="Interceptacao.html"><i class="fa-solid fa-arrows-to-circle"></i>
      		     <span class="item-description">Interceptação</span></a>
  		</li>
		<li class="side-item"><a href="Cenarios.html"><i class="fa-solid fa-layer-group"></i>
      			<span class="item-description">Carregar Cenários</span></a>
  		</li>
		  <li class="side-item active"><a href="Mensagem.html"><i class="fa-solid fa-file-lines"></i>
    			<span class="item-description">Gerar Mensagem</span></a>
		</li>
            </ul>
        </div>
        
<div id="logout"><button style="align: center;" id="logout_btn">Criado pelo 2°SG-SI Jefferson Correia</button></div>
        
        <button id="open_btn">
            <i id="open_btn_icon" class="fa-solid fa-chevron-right"></i>
        </button>
    </nav>
    
   <div id="main-content">
        <div class="calculator-container">
              <h1>Formatador de Mensagens</h1>
 <h3>Instruções:</h3>
<span style="width: 600px;margin-left:6px;white-space: nowrap;" >Passo 1: Clique no botão <span style="font-weight:bolder;" >"DESBLOQUEAR"</span> para liberar o formulario.</span>
<br><b class="tooltip"><button style="margin-left: 20px;background-color: #007BFF;font-size: 15px;"><a style="background-color: #007BFF;color:#000;" href="https://cors-anywhere.herokuapp.com/corsdemo?accessRequest=41f7534cf594b2448db67c4581dae3deed91f7ce832c91825a26dee57184f17a">Desbloquear</a></button>
<span class="tooltiptext">Clique no botão "DESBLOQUEAR" liberar o formulario.</span></b>


<h2 style="width: 700px;margin-left:0px;white-space: nowrap;">Formulário de Mensagem NAESP - NAVIO DE PESQUISA <span style="color: red; font-size:xx-small" >alt 290525</span></h2>
    <form id="messageForm">
        <b class="tooltip" style="width: 600px;margin-left:0px;white-space: nowrap;">PARA: 
        <input style="width: 300px" type="text" id="para" name="para" value="COMPAZ" placeholder="Digite o destinatário de ação">
		<span class="tooltiptext">Destinatário principal da mensagem (ex: COMPAZ, DRGNAV, etc.)</span></b><br>
        
        <b class="tooltip" style="width: 600px;margin-left:0px;white-space: nowrap;">INFO: 
        <input style="width: 700px;margin-left:6px;white-space: nowrap;" value="AGAGAG CIMBRA CPCPCP DRGNAV CPNDES OPENAV PRTCOS ZZZBBB XMT NBHAES" type="text" id="info" name="info" placeholder="Mais alguma OM na informação?">
		<span class="tooltiptext">Organizações Militares que devem receber cópia da informação</span></b>
		<br><br>
        <table><tbody>
            <tr>
                <td>
                    <b class="tooltip">IMO: <input type="text" id="imo" name="imo" placeholder="Digite o número IMO" maxlength="7"><span class="tooltiptext">Número de identificação único do navio (7 dígitos)</span></b>
                    <b class="tooltip"><button style="margin-left: 20px;" onclick="GetTargetByIMO(event)">Buscar</button><span class="tooltiptext">Pressione o botão para puxar os dados do navio</span></b>
                    <span id="error-message" style="color: red; margin-left: 10px;"></span></td>
                <td>
                    <b class="tooltip">MMSI: <input type="text" id="mmsi" name="mmsi" placeholder="Digite o número MMSI" maxlength="9"><span class="tooltiptext">Número de identificação do serviço móvel marítimo (9 dígitos)</span></b>
                    <b class="tooltip"><button style="margin-left: 20px;" onclick="GetTargetByMMSI(event)">Buscar</button><span class="tooltiptext">Pressione o botão para puxar os dados do navio</span></b>
                    <span id="error-message-mmsi" style="color: red; margin-left: 10px;"></span>
                </td>
            </tr>
            <tr>
                <td>
                    <b class="tooltip">Nome do Navio: 
                        
                    <input type="text" id="nomeNavio" name="nomeNavio" placeholder="Digite o nome do navio"><span class="tooltiptext">Nome oficial do navio conforme registro</span>
                    </b>
                </td>
                <td>
                    <b class="tooltip">Bandeira: 
                        
                    <input type="text" id="bandeira" name="bandeira" placeholder="Digite a bandeira"><span class="tooltiptext">País de registro do navio (ex: Brasil, Panama, etc.)</span>
                    </b>
                </td>
            </tr>
            <tr>
                <td>
                    <b class="tooltip">Tipo de Navio: 
                        
                    <input type="text" id="tipoNavio" name="tipoNavio" placeholder="Digite o tipo do navio"><span class="tooltiptext">Categoria do navio (ex: Cargo, Pesquisa, Petroleiro, etc.)</span>
                    </b>
                </td>
                <td>
                    <b class="tooltip">Porto destino: 
                        
                    <input type="text" id="porto" name="porto" placeholder="Digite o porto de destino"><span class="tooltiptext">Próximo porto de destino do navio</span>
                    </b>
                </td>
            </tr>
            <tr>
                <td>
                    <b class="tooltip">Irin: 
                        
                    <input type="text" id="Irin" name="irin" placeholder="Digite o irin do navio"><span class="tooltiptext">Número de identificação do navio no sistema IRIN</span>
                    </b>
                </td>
                <td>
                    <b class="tooltip">ETA: 
                        
                    <input type="text" id="ETA" name="ETA" placeholder="000000ZXXX2025"><span class="tooltiptext">Data e hora estimada de chegada (formato: 000000ZXXX2025)</span>
                    </b>
                </td>
            </tr>
            <tr>
                <td>
                    <b class="tooltip">Última Posição: 
                    <input type="text" style="width: 40px" id="latitudeGrau" name="latitudeGrau" placeholder="00" maxlength="2">°
                    <input type="text" style="width: 40px" id="latitudeMinuto" name="latitudeMinuto" placeholder="00" maxlength="2">' 
                    <input type="text" style="width: 40px" id="latitudeSegundo" name="latitudeSegundo" placeholder="00" maxlength="2">"
                    <select id="latitudeDirecao" name="latitudeDirecao"> <option value="S">S</option> <option value="N">N</option></select>,
                    <input type="text" style="width: 40px" id="longitudeGrau" name="longitudeGrau" placeholder="000" maxlength="3">°
                    <input type="text" style="width: 40px" id="longitudeMinuto" name="longitudeMinuto" placeholder="00" maxlength="2">' 
                    <input type="text" style="width: 40px" id="longitudeSegundo" name="longitudeSegundo" placeholder="00" maxlength="2">"
                    <select id="longitudeDirecao" name="longitudeDirecao"><option value="W">W</option><option value="E">E</option></select><span class="tooltiptext">Coordenadas da última posição conhecida do navio</span>
                    </b>
                </td>
                <td>
                    <b class="tooltip">Data-Hora da Última Posição: 
                        
                    <input style="width: 160px" type="text" id="dataPosicao" name="dataPosicao" placeholder="000000ZXXX2025"><span class="tooltiptext">Data e hora da última posição conhecida (formato: 000000ZXXX2025)</span>
                    </b>
                </td>
            </tr>
            <tr>
<td colspan="2"><b>Imagem do Navio:<b> <img id="imagemNavio" href="http://www.sistram.mar.mil.br/sistram4/fotos/C6EC3_0.jpg" src="http://www.sistram.mar.mil.br/sistram4/fotos/C6EC3_0.jpg">
                </td>
            </tr>
<tr>
    <td colspan="2">
        <b class="tooltip">Imagem do Navio: 
            <span class="tooltiptext">Anexe uma foto ou imagem relevante do navio (opcional)</span>
        </b><br>
        <input type="file" id="imagemNavio" name="imagemNavio" accept="image/*">
        <div id="imagemContainer" style="margin-top: 10px;">
            <!-- A imagem será carregada aqui -->
            <img id="fotoNavio" src="" alt="Foto do Navio" style="max-width: 300px; max-height: 200px; display: none;">
        </div>
    </td>
</tr>
        </tbody></table>
    
		  
		<b class="tooltip"><button class="tybbutton" style="margin-left:0px;white-space: nowrap;" onclick="if(document.getElementById('TG1') .style.display=='none') {document.getElementById('TG1') .style.display=''}else{document.getElementById('TG1') .style.display='none'}" title="Click To Show/Hide Content" type="button">Abrir Formulário NAESP</button><span class="tooltiptext">Pressione sobre o botão para abrir formulario de Critérios de Classificação de NAESP</span>
                    </b><br>
		<div class="tybtogglecontent" id="TG1" style="display: none;"><h3>SAFETY</h3>
		<table><thead><tr><th>Menu</th><th>Categoria</th><th>Subcategoria</th><th>Descrição</th><th>Code</th><th>Mark</th></tr></thead><tbody>
        <!-- Pollution Hazard (DPC) -->
        <tr><td rowspan="3">Pollution Hazard (DPC)</td>
            <td>Hazardous Materials (DPC)</td>
            <td>(DPC) Nuclear Materials Carrier</td>
            <td id="descrição">Navios transportando resíduos (lixo) nuclear.</td><td>A2</td><td><input type="checkbox" name="options" value="A2"></td></tr>
        <tr><td>Pollution History (DPC)</td>
            <td>(DPC) Pollution Casualties</td>
            <td id="descrição">Navio envolvidos em alguma ocorrência de poluição nos últimos dois anos.</td><td>A1</td><td><input type="checkbox" name="options" value="A1"></td></tr>
        <tr><td>Single Hull (DPC)</td>
            <td>(DPC) Single Hull Tanker</td>
            <td id="descrição">Navios Petroleiros com casco simples.</td><td>A3</td><td><input type="checkbox" name="options" value="A3"></td></tr>

        <!-- Vessel Associations (DPC) -->
        <tr><td rowspan="8">Vessel Associations (DPC)</td>
            <td rowspan="3">Classification Society (DPC)</td>
            <td>(DPC) Class Society Performance</td>
            <td id="descrição">A Sociedade Classificadora não é um membro da International Association Of Classification Society (IACS)</td><td>B1</td><td><input type="checkbox" name="options" value="B1"></td></tr>
        <tr><td>(DPC) Class Suspended</td>
            <td id="descrição">Navio encontra-se com uma classificação suspensa</td><td>B2</td><td><input type="checkbox" name="options" value="B2"></td></tr>
        <tr><td>(DPC) No Classification Society</td>
            <td id="descrição">Navio não possui uma Sociedade Classificadora e/ou foi desclassificado.</td><td>B3</td><td><input type="checkbox" name="options" value="B3"></td></tr>
        <tr><td rowspan="2">P&I Club (DPC)</td>
            <td>(DPC) Lower Tier P and I Clubs</td>
            <td id="descrição">Cobertura do Clube "P & I” em nível inferior.</td><td>C1</td><td><input type="checkbox" name="options" value="C1"></td></tr>
		<tr><td>(DPC) Unknown P and I Club</td>
            <td id="descrição">O P e I Club não é fornecido ou está listado como Desconhecido.</td><td>C2</td><td><input type="checkbox" name="options" value="C2"></td></tr>
        <tr><td  rowspan="3">Vessel Flag (DPC)</td>
            <td>(DPC) Flag is Unknown</td>
            <td id="descrição">Navio com bandeira desconhecida.</td><td>D1</td><td><input type="checkbox" name="options" value="D1"></td></tr>
        <tr><td>(DPC) Vessel Flag Falkland Islands</td>
            <td id="descrição">Navio com bandeira das ilhas Falkland.</td><td>D2</td><td><input type="checkbox" name="options" value="D2"></td></tr>
		<tr><td>(DPC) Vessel Flag from non LRIT country</td>
            <td id="descrição">Bandeira do navio não consta na lista de países apoiados por um Sistema Long Range and Tracking of Ships (LRIT).</td><td>D3</td><td><input type="checkbox" name="options" value="D3"></td></tr>
		<tr><td>Vessel Characteristics (DPC)</td>
            <td>Vessel Age (DPC)</td>
            <td>(DPC) Vessel Age 18 Years or more.</td>
            <td id="descrição">Navio com idade superior a 18 anos.</td><td>D4</td><td><input type="checkbox" name="options" value="D4"></td></tr>

		<tr><td rowspan="6">Vessel Performance (DPC)</td><td rowspan="2">Collision History (DPC)</td><td>(DPC) Non-Serious/Non-Pollution Casualty in Last 2 Years</td><td id="descrição" rowspan="2">A embarcação teve um acidente sem gravidade e sem poluição nos últimos 2 anos ou nao esteve emvolvido em nenhum incidente.</td><td rowspan="2">E1</td><td rowspan="2"><input type="checkbox" name="options" value="E1"></td></tr>
		<tr><td>(DPC) Serious Casualty in Past Year</td></td></tr>
		<tr><td>Detention History (DPC)</td><td>(DPC) History of detentions in the past thee years.</td><td id="descrição">Navio detido nos últimos três anos.</td><td>E2</td><td><input type="checkbox" name="options" value="E2"></td></tr>
		<tr><td>ISPS Compliance (DPC)</td><td>(DPC) ISPS Port Compliance</td><td id="descrição">Navio atracou em um ou mais portos não aderentes ao The International Ship and Port Facility Security(ISPS CODE) nos últimos 3 portos.</td><td>E3</td><td><input type="checkbox" name="options" value="E3"></td></tr>
		<tr><td rowspan="2">Port State Control (PSC) Inspections</td><td>Fewer than 5 Port State Control (PSC) Inspections in Last 3 Years</td><td id="descrição">Este navio teve menos de 5 inspeções (PSC) nos últimos três anos.</td><td>E4</td><td><input type="checkbox" name="options" value="E4"></td></tr>
        <!-- Example of a standalone entry -->
		<tr><td></td><td id="descrição">Navio sem comunicação satelital (ComSat)</td><td>F</td><td><input type="checkbox" name="options" value="F"></td></tr>
    </tbody>
</table>
		
		
	<h3>SECURITY</h3>
	<table><thead><tr><th>Menu</th><th>Categoria</th><th>Subcategoria</th><th>Descrição</th><th>Code</th><th>Mark</th></tr></thead><tbody>
        <!-- Pollution Hazard (DPC) -->
        <tr><td rowspan="4">Trusted Ownership</td><td>Fleet Size</td><td>Small Fleet Size</td><td id="descrição">Frota de tamanho reduzido.</td><td>A1</td><td><input type="checkbox" name="options2" value="A1"></td></tr>
		<tr><td>High Risk Ownership Country</td><td>Brasil VOI due to Ownership Countries </td><td id="descrição">Navios de Acompanhamento Especial devido ao País Proprietário</td><td>A2</td><td><input type="checkbox" name="options2" value="A2"></td></tr>
		<tr><td>Research Vessel</td><td>Research Vessel</td><td id="descrição">Navio de Pesquisa em Águas Jurisdicionais Brasileiras</td><td>A3</td><td><input type="checkbox" name="options2" value="A3"></td></tr>
		<tr><td>Vessel Flag</td><td>Brasil VOI due to Flag State</td><td id="descrição">Navios de Acompanhamento Especial devido ao Estado de Bandeira</td><td>A4</td><td><input type="checkbox" name="options2" value="A4"></td></tr>
		
		<tr><td rowspan="4">Vessel Movements</td><td>First Time in Country</td><td>First Time in Brasil</td><td id="descrição">Embarcação há mais de 2 anos sem atracar em Porto Brasileiro.</td><td>B1</td><td><input type="checkbox" name="options2" value="B1"></td></tr>
		<tr><td>High Risk Country Visit</td><td>Brasil VOI due to Previous Country Visit</td><td id="descrição">Navios de Acompanhamento Especial devido ao último País visitado</td><td>B2</td><td><input type="checkbox" name="options2" value="B2"></td></tr>
		<tr><td>LPOC Age</td><td>No Port Call in Last 45 Days</td><td id="descrição">Nenhum porto visitado nos últimos 45 dias, exceto embarcações envolvidas em atividade de petróleo e gás (Apoio Marítimo).</td><td>B3</td><td><input type="checkbox" name="options2" value="B3"></td></tr>
		<tr><td>No AIS Destination</td><td>Vessels not broadcasting NPOC in AIS</td><td id="descrição">Navios sem transmitir o próximo porto no AIS</td><td>B4</td><td><input type="checkbox" name="options2" value="B4"></td></tr>
		
		<tr><td>Vessel Performance</td><td>ISPS Compliance (DPC)</td><td>ISPS Port Compliance Last 3 Ports</td><td id="descrição">Navio atracou em um ou mais portos não aderentes ao The International Ship and Port Facility Security CODE (ISPS CODE) nos últimos 3 portos.</td><td>C1</td><td><input type="checkbox" name="options2" value="C1"></td></tr>
		
		<tr><td rowspan="13">Watchlists</td><td rowspan="13">VOI</td><td>Activist Group IMOs</td><td id="descrição">Embarcação ou Grupo Ativista</td><td>D1</td><td><input type="checkbox" name="options2" value="D1"></td></tr>
		<tr><td>Foreign Vessels with Nuclear Propulsion</td><td id="descrição">Embarcações Estrangeiras com Propulsão Nuclear</td><td>D2           </td><td><input type="checkbox" name="options2" value="D2"></td></tr>
		<tr><td>Vessel Crew Support of Terrorism</td><td id="descrição">Embarcação empregada em Apoio ao Terrorismo</td><td>D3                     </td><td><input type="checkbox" name="options2" value="D3"></td></tr>
		<tr><td>Vessel Drug or Precursor Smuggling</td><td id="descrição">Embarcações Transportando Droga ou Contrabandeando Precursores</td><td>D4</td><td><input type="checkbox" name="options2" value="D4"></td></tr>
		<tr><td>Vessel Human Smuggling</td><td id="descrição">Embarcação empregada no Tráfico de Seres Humanos</td><td>D5                          </td><td><input type="checkbox" name="options2" value="D5"></td></tr>
		<tr><td>Vessel Intel Collection</td><td id="descrição">Embarcação empregada na Coleta de Dados de Inteligência</td><td>D6                  </td><td><input type="checkbox" name="options2" value="D6"></td></tr>
		<tr><td>Vessel Piracy Activity</td><td id="descrição">Embarcação envolvida em atos de Pirataria</td><td>D7                                 </td><td><input type="checkbox" name="options2" value="D7"></td></tr>
		<tr><td>Vessel Transporting WMD</td><td id="descrição">Embarcação transportando Armas de Destruição em Massa (WMD)</td><td>D8              </td><td><input type="checkbox" name="options2" value="D8"></td></tr>
		<tr><td>Vessel Weapons Smuggling</td><td id="descrição">Embarcação empregada no Contrabando de Armas</td><td>D9                            </td><td><input type="checkbox" name="options2" value="D9"></td></tr>
		<tr><td>Vessel with Criminal Activity</td><td id="descrição">Embarcação empregada em Atividade Criminosa</td><td>D10                       </td><td><input type="checkbox" name="options2" value="D10"></td></tr>
		<tr><td>Vessels Carrying Invasive Species or Pathogens</td><td id="descrição">Embarcação que Transporta Espécies Invasivas ou de Agentes Patogênicos</td><td>D11</td><td><input type="checkbox" name="options2" value="D11"></td></tr>
		<tr><td>Vessels Harmful to Marine Resources</td><td id="descrição">Embarcação Nociva aos Meio Ambiente Marinhos</td><td>D12</td><td><input type="checkbox" name="options2" value="D12"></td></tr>
		<tr><td>Vessels Sanctioned by UM</td><td id="descrição">Embarcação objeto de sansão por Resolução da ONU</td><td>D13       </td><td><input type="checkbox" name="options2" value="D13"></td></tr>
		
		<tr><td rowspan="6">COMPORTAMENTOS ANOMALOS</td><td rowspan="6" colspan="2" >Lista Externa ao Camtes</td><td id="descrição">Velocidade inferior a 8 nós em mar aberto.</td><td>E1</td><td><input type="checkbox" name="options2" value="E1"></td></tr>
		<tr><td id="descrição">Alteração de rumo superior a  40º navegando em mar aberto.</td><td>E2</td><td><input type="checkbox" name="options2" value="E2"></td></tr>
		<tr><td id="descrição">Navio sem comando( com avaria de propulsão ou de governo).</td><td>E3</td><td><input type="checkbox" name="options2" value="E3"></td></tr>
		<tr><td id="descrição">Navios com guardas armados a Bordo.</td><td>E4</td><td><input type="checkbox" name="options2" value="E4"></td></tr>
		<tr><td id="descrição">Navios com Avaria Grave(“ Broken Ships”) ou  com Perda Total(“Total Loss”).</td><td>E5</td><td><input type="checkbox" name="options2" value="E5"></td></tr>
		<tr><td id="descrição">Navios de Pesquisa Não Autorizados pelo EMA/DPC ou operando em desacordo com a autorização concedida.</td><td>E6</td><td><input type="checkbox" name="options2" value="E6"></td></tr>
		</tbody></table>
	<br>
	<button onclick="generateResponse2(event)">Gerar Codigo NAESP</button><br>
		</div>
<br>
        <b>Safety: <span style="width: 380px" type="text" id="safety1" name="safety1" placeholder="Análise de risco SAFETY"></span></b><br>
        <b>Security: <span style="width: 380px" type="text" id="security2" name="security2" placeholder="Análise de risco SECURITY"></span></b><br>
        <b>CLASSIFICAÇÃO CAMTES: </b><select style="width: 80px" type="text" id="naesp" name="naesp">
        <option value="VOI">VOI</option> <option value="COI">COI</option> <option value="CCOI">CCOI</option> </select><br><br>  
	
        <button style="margin-left: 10px;" type="button" onclick="criarTxt()">Criar TXT</button><br>
        <b style="color: white;">Para comentario:</b><br>
        <b style="color: white;">Safety: <br><span style="width: 380px;" type="text" id="safety3" name="safety3" placeholder="Análise de risco SAFETY"></span></b><br>
        <b style="color: white;">Security: <br><span style="width: 380px;"  type="text" id="security4" name="security4" placeholder="Análise de risco SECURITY"></span></b><br>
      
    </form>

<script src="scr/script_base.js" defer></script>
 <script>
        
     // Função para buscar pelo MMSI
    function GetTargetByMMSI(event) {
        event.preventDefault();
        const mmsi = document.getElementById("mmsi").value;
		const errorMessageElement = document.getElementById("error-message-mmsi");
		const errorMessageElementimo = document.getElementById("error-message");
		const apiUrl = "https://aiswebservices.ihs.com/AISSvc.svc/AIS/GetTargetByMMSIEnhanced";

		// Limpa mensagem de erro anterior
		errorMessageElement.textContent = "";
		errorMessageElementimo.textContent = "";
	 // Verifica se o campo MMSI foi preenchido
    if (!mmsi) {errorMessageElement.textContent = "Por favor, insira um número MMSI.";
        return;
    }
        // Configurar o corpo e autenticação
        const data = { "MMSI": mmsi };
        const headers = new Headers({
            "Authorization": "Basic " + btoa("marfab493:741860"),
            "Content-Type": "application/json"
        });

        // Faz a requisição
        fetch("https://cors-anywhere.herokuapp.com/" + apiUrl, {
            method: "POST",
            headers: headers,
            body: JSON.stringify(data)
        })
    .then(response => response.json())
    .then(result => {
        preencherFormulario(result.targetEnhanced);
        // Tenta carregar a imagem se houver callsign
        if (result.targetEnhanced.Callsign) {
            
        }
    })
    .catch(error => {
        console.error("Erro ao buscar por MMSI:", error);
        errorMessageElement.textContent = "Erro ao realizar a busca. Tente novamente mais tarde.";
    });
}
	
	
	


// Função para buscar pelo IMO
function GetTargetByIMO(event) {
    event.preventDefault();
    const imo = document.getElementById("imo").value;
    const errorMessageElement = document.getElementById("error-message");
    const errorMessageElementmmsi = document.getElementById("error-message-mmsi");
    const apiUrl = "https://aiswebservices.ihs.com/AISSvc.svc/AIS/GetTargetsByIMOEnhanced";

    // Limpa mensagem de erro anterior
    errorMessageElement.textContent = "";
    errorMessageElementmmsi.textContent = "";

    // Verifica se o campo IMO foi preenchido
    if (!imo) {
        errorMessageElement.textContent = "Por favor, insira um número IMO.";
        return;
    }

    const data = { "IMO": imo };
    const headers = new Headers({
        "Authorization": "Basic " + btoa("marfab493:741860"),
        "Content-Type": "application/json"
    });

    fetch("https://cors-anywhere.herokuapp.com/" + apiUrl, {
        method: "POST",
        headers: headers,
        body: JSON.stringify(data)
    })
    .then(response => response.json())
    .then(result => {
        if (result.targetEnhancedArr && result.targetEnhancedArr.length > 0) {
            preencherFormulario(result.targetEnhancedArr[0]);
            // Tenta carregar a imagem se houver callsign
            if (result.targetEnhancedArr[0].Callsign) {
                
            }
        } else {
            errorMessageElement.textContent = "Nenhum resultado encontrado para o IMO fornecido.";
        }
    })
    .catch(error => {
        console.error("Erro ao buscar por IMO:", error);
        errorMessageElement.textContent = "Erro ao realizar a busca. Verifique numero IMO ou busque pelo mmsi.";
    });
}


    // Função para preencher o formulário
    function preencherFormulario(target) {
		console.log(target.Name);
        document.getElementById("nomeNavio").value = target.Name || "N/A";
        document.getElementById("imo").value = target.IMO || "N/A";
        document.getElementById("mmsi").value = target.MMSI || "N/A";
        document.getElementById("bandeira").value = getFlagFromMMSI(target.MMSI);
        document.getElementById("tipoNavio").value = gettypeFromcode(target.STAT5CODE) || "N/A";
        document.getElementById("Irin").value = target.Callsign || "N/A";
        document.getElementById("imagemNavio").value = target.Callsign || "N/A";
        document.getElementById("porto").value = target.Destination || "N/A";
        document.getElementById("porto").value = target.Destination || "N/A";
        preencherCoordenadas(target.Lat, target.Lon);
		function formatarDataPersonalizada(dataISO) {
		const data = new Date(dataISO);
		
		const dia = String(data.getUTCDate()).padStart(2, '0');
		const hora = String(data.getUTCHours()).padStart(2, '0');
		const minuto = String(data.getUTCMinutes()).padStart(2, '0');
		const mesAbreviado = data.toLocaleString('pt-BR', { month: 'short' }).toUpperCase(); // Mês abreviado
		const ano = data.getUTCFullYear();
		
		return `${dia}${hora}${minuto}Z${mesAbreviado}${ano}`;
		}

		const dataFormatada = formatarDataPersonalizada(target.ReceivedDate);
		document.getElementById("dataPosicao").value = dataFormatada || "N/A";
		const ETAFormatada = formatarDataPersonalizada(target.ETA);
		document.getElementById("ETA").value = ETAFormatada || "N/A";

   // Atualiza a imagem do navio se existir callsign
    if (target.Callsign) {
        updateShipImage(target.Callsign);
    }
}
// Função para atualizar a imagem do navio
function updateShipImage(callsign) {
    const imgElement = document.getElementById("imagemNavio");
    if (imgElement) {
        // Tenta carregar imagens com diferentes sufixos (0, 1, 2)
        for (let i = 0; i <= 2; i++) {
            const testImg = new Image();
            testImg.src = `http://www.sistram.mar.mil.br/sistram4/fotos/${callsign}_${i}.jpg`;
            
            testImg.onload = function() {
                // Se a imagem carregar, atualiza o src do elemento principal
                imgElement.src = testImg.src;
                imgElement.style.display = 'inline';
            };
            
            testImg.onerror = function() {
                // Se não encontrar, tenta o próximo sufixo
                if (i === 2) {
                    imgElement.style.display = 'none'; // Esconde se nenhuma imagem for encontrada
                }
            };
        }
    }
}
    // Função para preencher o formulário
    function preencherFormulario(target) {
        document.getElementById("nomeNavio").value = target.Name || "N/A";
        document.getElementById("imo").value = target.IMO || "N/A";
        document.getElementById("mmsi").value = target.MMSI || "N/A";
        document.getElementById("bandeira").value = getFlagFromMMSI(target.MMSI);
        document.getElementById("tipoNavio").value = gettypeFromcode(target.STAT5CODE) || "N/A";
        document.getElementById("Irin").value = target.Callsign || "N/A";
        document.getElementById("porto").value = target.Destination || "N/A";
        document.getElementById("porto").value = target.Destination || "N/A";
        preencherCoordenadas(target.Lat, target.Lon);
		function formatarDataPersonalizada(dataISO) {
		const data = new Date(dataISO);
		
		const dia = String(data.getUTCDate()).padStart(2, '0');
		const hora = String(data.getUTCHours()).padStart(2, '0');
		const minuto = String(data.getUTCMinutes()).padStart(2, '0');
		const mesAbreviado = data.toLocaleString('pt-BR', { month: 'short' }).toUpperCase(); // Mês abreviado
		const ano = data.getUTCFullYear();
		
		return `${dia}${hora}${minuto}Z${mesAbreviado}${ano}`;
		}

		const dataFormatada = formatarDataPersonalizada(target.ReceivedDate);
		document.getElementById("dataPosicao").value = dataFormatada || "N/A";
		const ETAFormatada = formatarDataPersonalizada(target.ETA);
		document.getElementById("ETA").value = ETAFormatada || "N/A";
//        document.getElementById("dataPosicao").value = new Date(target.ReceivedDate).toLocaleString() || "N/A";
    }

    // Função para preencher as coordenadas
    function preencherCoordenadas(lat, lon) {
        const latitude = convertToDMS(lat, true);
        const longitude = convertToDMS(lon, false);

        // Preenche latitude
        document.getElementById("latitudeGrau").value = latitude.degrees;
        document.getElementById("latitudeMinuto").value = latitude.minutes;
        document.getElementById("latitudeSegundo").value = latitude.seconds;
        document.getElementById("latitudeDirecao").value = latitude.direction;

        // Preenche longitude
        document.getElementById("longitudeGrau").value = longitude.degrees;
        document.getElementById("longitudeMinuto").value = longitude.minutes;
        document.getElementById("longitudeSegundo").value = longitude.seconds;
        document.getElementById("longitudeDirecao").value = longitude.direction;
    }

    // Função para converter coordenadas decimais para graus, minutos e segundos
    function convertToDMS(coordinate, isLatitude) {
        const absolute = Math.abs(coordinate);
        const degrees = Math.floor(absolute);
        const minutes = Math.floor((absolute - degrees) * 60);
        const seconds = ((absolute - degrees - minutes / 60) * 3600).toFixed(0);

        const direction = coordinate >= 0
            ? (isLatitude ? "N" : "E")
            : (isLatitude ? "S" : "W");

        return { degrees, minutes, seconds, direction };
    }

    // Função para determinar a bandeira a partir do MMSI
    function gettypeFromcode(tipoNavio) {
        switch (tipoNavio) {
            
case "Z11C4ZA": return "Accommodation Platform, jack up"
case "Z11C3ZA": return "Accommodation Platform, semi submersible"
case "B22A2ZA": return "Accommodation Ship"
case "X11D2XA": return "Accommodation Vessel, Stationary"
case "Y11A5BA": return "Bulk Aggregates Barge, non propelled"
case "A24D2BA": return "Aggregates Carrier"
case "Z11A4SJ": return "Air Cushion Vehicle, work vessel"
case "X11C2NA": return "Aircraft Carrier"
case "X11C2AP": return "Aircraft Transport, Naval auxiliary"
case "A14H2LH": return "Alcohol Tanker"
case "B21B2OA": return "Anchor Handling Tug Supply"
case "B34X2QA": return "Anchor Handling Vessel"
case "B32B2SA": return "Articulated Pusher Tug"
case "Y11A5LA": return "Bitumen Tank Barge, non propelled"
case "A13C2LA": return "Asphalt/Bitumen Tanker"
case "X11C2NK": return "Attack Vessel, Naval"
case "B33A2DH": return "Backhoe Dredger"
case "A38B2GB": return "Barge Carrier"
case "A12F2LB": return "Beer Tanker"
case "X11C2MB": return "Boom defence Vessel"
case "Y11B4DB": return "Bucket Dredger Pontoon"
case "B33B2DB": return "Bucket Hopper Dredger"
case "B33A2DB": return "Bucket Ladder Dredger"
case "B33A2DL": return "Bucket Wheel Suction Dredger"
case "A23A2BD": return "Bulk Carrier, Self-discharging"
case "A23A2BK": return "Bulk Carrier, Self-discharging, Laker"
case "A21A2BC": return "Bulk Carrier"
case "A21A2BV": return "Bulk Carrier (with Vehicle Decks)"
case "A21A2BG": return "Bulk Carrier, Laker Only"
case "Y11A5SX": return "Cement Storage Barge, non propelled"
case "B35B2SX": return "Bulk Cement Storage Ship"
case "B35B2SU": return "Bulk Dry Storage Ship"
case "A22A2BN": return "Bulk/Caustic Soda Carrier (CABU)"
case "A22A2BB": return "Bulk/Oil Carrier (OBO)"
case "A22B2BQ": return "Bulk/Oil/Chemical Carrier (CLEANBU)"
case "A22A2BX": return "Bulk/Sulphuric Acid Carrier"
case "B35E2TD": return "Bunkering Tanker (LNG)"
case "B35E2TE": return "Bunkering Tanker (LNG/Oil)"
case "B35E2TF": return "Bunkering Tanker (Oil)"
case "B34Q2QL": return "Buoy & Lighthouse Tender"
case "B34Q2QB": return "Buoy Tender"
case "B34D2SB": return "Cable Repair Ship"
case "B34D2SL": return "Cable Layer"
case "A14N2LL": return "Caprolactam Tanker"
case "Y11B4WV": return "Car Park"
case "Y11A5BT": return "Bulk Cement Barge, non propelled"
case "W12A5BT": return "Bulk Cement Carrier, Inland Waterways"
case "A24A2BT": return "Cement Carrier"
case "Y11A5TC": return "Chemical Tank Barge, non propelled"
case "A12A2TC": return "Chemical Tanker"
case "W11A5TC": return "Chemical Tanker, Inland Waterways"
case "Y11A5TR": return "Chemical/Products Tank Barge, non propelled"
case "A12B2TR": return "Chemical/Products Tanker"
case "W11A5TR": return "Chemical/Products Tanker, Inland Waterways"
case "A11A2TQ": return "CNG Tanker"
case "A11C2LC": return "CO2 Tanker"
case "A13E2LD": return "Coal/Oil Mixture Tanker"
case "A11A2TZ": return "Combination Gas Tanker (LNG/LPG)"
case "X11C2NB": return "Command Vessel"
case "A33A2CR": return "Container Ship (Fully Cellular/Ro-Ro Facility)"
case "A33A2CC": return "Container Ship (Fully Cellular)"
case "W12A5CC": return "Container Ship (Fully Cellular), Inland Waterways"
case "A35C2RC": return "Container/Ro-Ro Cargo Ship"
case "X11C2NC": return "Corvette"
case "Y11A5BH": return "Covered Bulk Cargo Barge, non propelled"
case "Z11C4ZC": return "Crane Platform, jack up"
case "Y11B4SC": return "Crane Vessel, non propelled"
case "B34B2SC": return "Crane Vessel"
case "X11C2AA": return "Crane Vessel, Naval Auxiliary"
case "B21A2OC": return "Crew/Supply Vessel"
case "B34J2SD": return "Crew Boat"
case "Y11A5TV": return "Crude Oil Tank Barge, non propelled"
case "A13A2TV": return "Crude Oil Tanker"
case "A13A2TW": return "Crude/Oil Products Tanker"
case "W12E5PC": return "Cruise Ship, Inland Waterways"
case "A37A2PC": return "Passenger/Cruise"
case "X11C2NG": return "Cruiser"
case "Y11B4DC": return "Deck Cargo Pontoon, non propelled"
case "Y11B3DC": return "Deck Cargo Pontoon, semi submersible"
case "B33A2DC": return "Cutter Suction Dredger"
case "W12A5GD": return "Pallet Shuttle Pontoon, Inland Waterways"
case "A31C2GD": return "Deck Cargo Ship"
case "X11C2MD": return "Degaussing Vessel"
case "Y11B4WO": return "Desalination Pontoon, non propelled"
case "X11C2ND": return "Destroyer"
case "Z11C3ZG": return "Diving Support Platform, semi submersible"
case "B22A2OV": return "Diving Support Vessel"
case "X11C2AV": return "Diving Vessel, Naval Auxiliary"
case "Z11B4WA": return "Dock Gate"
case "Y11B4DU": return "Dredging Pontoon, unknown dredging type"
case "B33A2DU": return "Dredger (unspecified)"
case "B33B2DU": return "Hopper/Dredger (unspecified)"
case "W13D5DU": return "Dredging, Inland Waterways"
case "Y11A5LS": return "Drilling Barge, non propelled"
case "Z11C4ZD": return "Drilling Rig, jack up"
case "Z11C3ZE": return "Drilling Rig, semi Submersible"
case "B22B2OD": return "Drilling Ship"
case "A12E2LE": return "Edible Oil Tanker"
case "W11C5LE": return "Edible Oil Tanker, Inland Waterways"
case "B34E2SY": return "Effluent carrier"
case "X11C2NE": return "Escort"
case "B35A2QE": return "Exhibition Vessel"
case "B34F2SF": return "Fire Fighting Vessel"
case "B12B2FC": return "Fish Carrier"
case "B12A2FF": return "Fish Factory Ship"
case "B12D2FM": return "Fish Farm Support Vessel"
case "Y11A5FH": return "Fish Storage Barge, non propelled"
case "B12D2FP": return "Fishery Patrol Vessel"
case "B12D2FR": return "Fishery Research Vessel"
case "B12D2FU": return "Fishery Support Vessel"
case "B11B2FV": return "Fishing Vessel"
case "W13A5FV": return "Fishing, Inland Waterways"
case "Z11B4WF": return "Floating Dock"
case "B22E2OG": return "Gas Processing Vessel"
case "B22H2OF": return "FSO, Oil"
case "B22E2OF": return "FPSO, Oil"
case "X11C2NF": return "Frigate"
case "A14E2LJ": return "Fruit Juice Carrier, Refrigerated"
case "B22H2OK": return "FSO, Gas"
case "A31A2GX": return "General Cargo Ship"
case "Y11A5GC": return "General Cargo Barge, non propelled"
case "W12A5GC": return "General Cargo, Inland Waterways"
case "A31A2GO": return "General Cargo Ship (Open Hatch)"
case "A31A2GA": return "General Cargo Ship (with Ro-Ro facility)"
case "A31A2GE": return "General Cargo Ship, Self-discharging"
case "W12B5GF": return "General Cargo/Passenger Ship, Inland Waterways"
case "A32A2GF": return "General Cargo/Passenger Ship"
case "A31A2GT": return "General Cargo/Tanker"
case "A31A2GS": return "General Cargo/Tanker (Container/oil/bulk - COB ship)"
case "A14G2LG": return "Glue Tanker"
case "Y11B4DG": return "Grab Dredger Pontoon"
case "B33A2DG": return "Grab Dredger"
case "B33B2DG": return "Grab Hopper Dredger"
case "Y11B4WG": return "Grain Elevating Pontoon, non propelled"
case "A38C2GH": return "Heavy Load Carrier"
case "A38C3GH": return "Heavy Load Carrier, semi submersible"
case "X11C2NH": return "Helicopter Carrier"
case "Y11A5SH": return "Hopper Barge, non propelled"
case "B34A2SH": return "Hopper, Motor"
case "B34U2QH": return "Hospital Vessel"
case "X11A2YH": return "Houseboat"
case "W13E5LR": return "Hull Cleaning Barge, Inland Waterways"
case "A11B2TY": return "Liquefied Hydrogen Tanker"
case "B34C2SI": return "Icebreaker"
case "B34C2SZ": return "Icebreaker/Research"
case "B34E2SV": return "Incinerator"
case "X11C3NI": return "Infantry Landing Craft"
case "Y11B3WJ": return "Jacket Launching Pontoon, semi submersible"
case "B12G2FK": return "Kelp Dredger"
case "A35D2RL": return "Landing Craft"
case "X11C3NL": return "Landing Ship (Dock Type)"
case "A12G2LT": return "Latex Tanker"
case "B34Q2QX": return "Lighthouse Tender"
case "X11D2XL": return "Lightship"
case "A24E2BL": return "Limestone Carrier"
case "Z11E4WK": return "Linkspan/Jetty"
case "A38A2GL": return "Livestock Carrier"
case "Y11A5TN": return "LNG Tank Barge, non propelled"
case "A11A2TN": return "LNG Tanker"
case "B34Z2QG": return "Log Tipping Ship"
case "X11C3MX": return "Logistics Vessel (Naval Ro-Ro Cargo)"
case "Y11A5TG": return "LPG Tank Barge, non propelled"
case "A11B2TG": return "LPG Tanker"
case "W11D5TG": return "LPG Tanker, Inland Waterways"
case "A11B2TH": return "LPG/Chemical Tanker"
case "Z11C4ZM": return "Support Platform, jack up"
case "Z11C3ZM": return "Maintenance Platform, semi Submersible"
case "B22A2ZM": return "Offshore Construction Vessel, jack up"
case "Z11B4WM": return "Mechanical Lift Dock"
case "X11C2MH": return "Minehunter"
case "X11C2ML": return "Minelayer"
case "X11C2MM": return "Minesweeper"
case "B35C2SM": return "Mining Vessel"
case "B35A2QZ": return "Mission Ship"
case "A14F2LM": return "Molasses Tanker"
case "A12A2LP": return "Molten Sulphur Tanker"
case "Z11D4XN": return "Mooring Buoy"
case "B34S2QM": return "Mooring Vessel"
case "X11C2MU": return "Munitions Carrier"
case "X11D2XM": return "Museum, Stationary"
case "X11C2MA": return "Naval Small Craft"
case "X11C2MN": return "Netlayer"
case "A38D2GN": return "Nuclear Fuel Carrier"
case "A38D2GZ": return "Nuclear Fuel Carrier (with Ro-Ro facility)"
case "B21A2OS": return "Platform Supply Ship"
case "B22A2OR": return "Offshore Support Vessel"
case "B21B2OT": return "Offshore Tug/Supply Ship"
case "A13B2TU": return "Tanker (unspecified)"
case "W11B5TU": return "Oil Tanker, Inland Waterways"
case "A21B2BO": return "Ore Carrier"
case "A22B2BR": return "Ore/Oil Carrier"
case "A31B2GP": return "Palletised Cargo Ship"
case "W12E5PS": return "Passenger Ship, Inland Waterways"
case "Z11A4PS": return "Air Cushion Vehicle Passenger"
case "A37B2PS": return "Passenger Ship"
case "A33B2CP": return "Passenger/Container Ship"
case "A36B2PL": return "Passenger/Landing Craft"
case "W12D5PR": return "Passenger/Ro-Ro Ship (Vehicles), Inland Waterways"
case "Z11A4PR": return "Air Cushion Vehicle Passenger/Ro-Ro (Vehicles)"
case "A36A2PR": return "Passenger/Ro-Ro Ship (Vehicles)"
case "W12D5PT": return "Passenger/Ro-Ro Ship (Vehicles/Train), Inland"
case "A36A2PT": return "Passenger/Ro-Ro Ship (Vehicles/Rail)"
case "Z11A4SQ": return "Air Cushion Vehicle Patrol Vessel"
case "B34H2SQ": return "Patrol Vessel"
case "B12H2FY": return "Pearl Shells Carrier"
case "B34B2SO": return "Pile Driving Vessel"
case "B34N2QP": return "Pilot Vessel"
case "B21A2OP": return "Pipe Carrier"
case "B22K2OB": return "Pipe Burying Vessel"
case "B22C2OX": return "Pipe Layer"
case "B22C2OQ": return "Pipe Layer Crane Vessel"
case "Z11C3ZK": return "Pipe layer Platform, semi submersible"
case "B34G2SE": return "Pollution Control Vessel"
case "A24H2BZ": return "Powder Carrier"
case "Y11B4WE": return "Power Station Pontoon, non propelled"
case "B35F2WE": return "Power Station Vessel"
case "Z11C4ZP": return "Production Platform, jack up"
case "Z11C3ZP": return "Production Platform, semi submersible"
case "B22D2OZ": return "Production Testing Vessel"
case "Y11A5TP": return "Products Tank Barge, non propelled"
case "A13B2TP": return "Products Tanker"
case "A38H2GU": return "Pulp Carrier"
case "Z11C4ZU": return "Pumping Platform"
case "B32B2SP": return "Pusher Tug"
case "X11D2XS": return "Radio Station Vessel"
case "A35A2RT": return "Rail Vehicles Carrier"
case "A24G2BS": return "Refined Sugar Carrier"
case "A34A2GR": return "Refrigerated Cargo Ship"
case "X11C2AD": return "Replenishment Dry Cargo Vessel"
case "X11C2AT": return "Replenishment Tanker"
case "W13B5SR": return "Research, Inland Waterways"
case "B31A2SR": return "Navio Pesquisa"
case "X11D2XR": return "Restaurant Vessel, Stationary"
case "W12C5RR": return "Ro-Ro Cargo Ship, Inland Waterways"
case "A35A2RR": return "Ro-Ro Cargo Ship"
case "B34Y2QK": return "Rocket Launch Support Ship"
case "X11B2QN": return "Sail Training Ship"
case "B35Y2XV": return "Sailing Vessel"
case "B34P2QV": return "Salvage Ship"
case "B12E2FX": return "Seal Catcher"
case "X11C2MP": return "Seaplane Tender"
case "B34M2QS": return "Search & Rescue Vessel"
case "Y11B4WL": return "Sheerlegs Pontoon"
case "Y11B4WS": return "Shopping Complex"
case "A13A2TS": return "Shuttle Tanker"
case "B22G2OY": return "Standby Safety Vessel"
case "Y11B4WT": return "Steam Supply Pontoon, non propelled"
case "B34A2SS": return "Stone Carrier"
case "X11C4NS": return "Submarine"
case "X11C2NX": return "Submarine Chaser"
case "X11C2MV": return "Submarine Salvage Vessel"
case "Z11F2XZ": return "Submersible"
case "Y11B4DS": return "Suction Dredger Pontoon"
case "B33A2DS": return "Suction Dredger"
case "B33B2DS": return "Suction Hopper Dredger"
case "Z11C4ZS": return "Supply Platform, jack up"
case "B34R2QY": return "Supply Tender"
case "X11C3NT": return "Tank Landing Craft"
case "B34V2QC": return "Tank Cleaning Vessel"
case "B35A2QI": return "Theatre Vessel"
case "X11C2NY": return "Torpedo Boat"
case "X11C2MR": return "Torpedo Recovery Vessel"
case "X11C2NU": return "Torpedo Trials Vessel"
case "B33B2DT": return "Trailing Suction Hopper Dredger"
case "B34K2QT": return "Training Ship"
case "X11D2QT": return "Training Ship, Stationary"
case "Y11A5QJ": return "Trans Shipment Barge, non propelled"
case "B34W2QJ": return "Trans Shipment Vessel"
case "B22J2OE": return "Trenching Support Vessel"
case "X11C2MT": return "Troopship"
case "W13C5ST": return "Towing/Pushing, Inland Waterways"
case "B32A2ST": return "Tug"
case "X11C2AS": return "Tug, Naval Auxiliary"
case "Z11G4XY": return "Underwater System"
case "X11C2AU": return "Unknown Function, Naval/Naval Auxiliary"
case "W13E5QQ": return "Other Activities, Inland Waterways"
case "A24C2BU": return "Urea Carrier"
case "B34L2QU": return "Utility Vessel"
case "A12D2LV": return "Vegetable Oil Tanker"
case "W11C5LV": return "Vegetable Oil Tanker, Inland Waterways"
case "A35B2RV": return "Vehicles Carrier"
case "Y11B4XX": return "Pontoon (Function Unknown)"
case "B35X2XX": return "Vessel (function unknown)"
case "B34E2SW": return "Waste Disposal Vessel"
case "Y11A5QO": return "Water Tank Barge, non propelled"
case "A14A2LO": return "Water Tanker"
case "W11C5LO": return "Water Tanker, Inland Waterways"
case "Y11B4DW": return "Water-injection Dredging Pontoon"
case "B33A2DW": return "Water Injection Dredger"
case "X11C2NW": return "Weapons Trials Vessel"
case "B22F2OW": return "Well Stimulation Vessel"
case "B12F2FW": return "Whale Catcher"
case "B34T2ON": return "Commissioning Service Operation Vessel"
case "B35D2OI": return "Wind Turbine Installation Vessel"
case "B34T2OO": return "Service Operation Vessel"
case "Z11C4ZW": return "Wind Turbine Installation Platform, jack up"
case "A12C2LW": return "Wine Tanker"
case "Z11A4SK": return "Wing In Ground Effect Vessel"
case "A24B2BW": return "Wood Chips Carrier"
case "Y11B5WW": return "Accommodation Pontoon, non-propelled"
case "Y11B4WW": return "Work/Maintenance Pontoon, non propelled"
case "B34T2QR": return "Work/Repair Vessel"
case "A38C3GY": return "Yacht Carrier, semi submersible"
case "X11A2YP": return "Yacht"
case "X11A2YS": return "Yacht (Sailing)"
            default: return "Desconhecida";
        }
    }


    // Função para determinar a bandeira a partir do MMSI
    function getFlagFromMMSI(mmsi) {
        const countryCode = Math.floor(mmsi / 1000000);
        switch (countryCode) {
            case 201: return "Albania"; case 202: return "Andorra"; case 203: return "Austria"; case 204: return "Azores"; case 205: return "Belgium"; case 206: return "Belarus"; case 207: return "Bulgaria"; case 208: return "Vatican City State"; case 209: return "Cyprus"; case 210: return "Cyprus"; case 211: return "Germany"; case 212: return "Cyprus"; case 213: return "Georgia"; case 214: return "Moldova"; case 215: return "Malta"; case 216: return "Armenia"; case 218: return "Germany"; case 219: return "Denmark"; case 220: return "Denmark"; case 224: return "Spain"; case 225: return "Spain"; case 226: return "France"; case 227: return "France"; case 228: return "France"; case 229: return "Malta"; case 230: return "Finland"; case 231: return "Faroe Islands"; case 232: return "United Kingdom"; case 233: return "United Kingdom"; case 234: return "United Kingdom"; case 235: return "United Kingdom"; case 236: return "Gibraltar"; case 237: return "Greece"; case 238: return "Croatia"; case 239: return "Greece"; case 240: return "Greece"; case 241: return "Greece"; case 242: return "Morocco"; case 243: return "Hungary"; case 244: return "Netherlands"; case 245: return "Netherlands"; case 246: return "Netherlands"; case 247: return "Italy"; case 248: return "Malta"; case 249: return "Malta"; case 250: return "Ireland"; case 251: return "Iceland"; case 252: return "Liechtenstein"; case 253: return "Luxembourg"; case 254: return "Monaco"; case 255: return "Madeira"; case 256: return "Malta"; case 257: return "Norway"; case 258: return "Norway"; case 259: return "Norway"; case 261: return "Poland"; case 262: return "Montenegro"; case 263: return "Portugal"; case 264: return "Romania"; case 265: return "Sweden"; case 266: return "Sweden"; case 267: return "Slovak Republic"; case 268: return "San Marino"; case 269: return "Switzerland"; case 270: return "Czech Republic"; case 271: return "Turkey"; case 272: return "Ukraine"; case 273: return "Russian Federation"; case 274: return "Former Yugoslav Republic of Macedonia"; case 275: return "Latvia"; case 276: return "Estonia"; case 277: return "Lithuania"; case 278: return "Slovenia"; case 279: return "Serbia"; case 301: return "Anguilla"; case 303: return "Alaska (State of, USA)"; case 304: return "Antigua and Barbuda"; case 305: return "Antigua and Barbuda"; case 306: return "Sint Maarten (Dutch part)"; case 306: return "Bonaire, Sint Eustatius and Saba"; case 306: return "Curaçao"; case 307: return "Aruba"; case 308: return "Bahamas"; case 309: return "Bahamas"; case 310: return "Bermuda"; case 311: return "Bahamas"; case 312: return "Belize"; case 314: return "Barbados"; case 316: return "Canada"; case 319: return "Cayman Islands"; case 321: return "Costa Rica"; case 323: return "Cuba"; case 325: return "Dominica"; case 327: return "Dominican Republic"; case 329: return "Guadeloupe (French Department)"; case 330: return "Grenada"; case 331: return "Greenland"; case 332: return "Guatemala"; case 334: return "Honduras"; case 336: return "Haiti"; case 338: return "United States of America"; case 339: return "Jamaica"; case 341: return "Saint Kitts and Nevis"; case 343: return "Saint Lucia"; case 345: return "Mexico"; case 347: return "Martinique"; case 348: return "Montserrat"; case 350: return "Nicaragua"; case 351: return "Panama"; case 352: return "Panama"; case 353: return "Panama"; case 354: return "Panama"; case 355: return "-"; case 356: return "-"; case 357: return "-"; case 358: return "Puerto Rico"; case 359: return "El Salvador"; case 361: return "Saint Pierre and Miquelon"; case 362: return "Trinidad and Tobago"; case 364: return "Turks and Caicos Islands"; case 366: return "United States of America"; case 367: return "United States of America"; case 368: return "United States of America"; case 369: return "United States of America"; case 370: return "Panama"; case 371: return "Panama"; case 372: return "Panama"; case 373: return "Panama"; case 374: return "-"; case 375: return "Saint Vincent and the Grenadines"; case 376: return "Saint Vincent and the Grenadines"; case 377: return "Saint Vincent and the Grenadines"; case 378: return "British Virgin Islands"; case 379: return "United States Virgin Islands"; case 401: return "Afghanistan"; case 403: return "Saudi Arabia"; case 405: return "Bangladesh"; case 408: return "Bahrain"; case 410: return "Bhutan"; case 412: return "China"; case 413: return "China"; case 414: return "China"; case 416: return "Taiwan"; case 417: return "Sri Lanka"; case 419: return "India"; case 422: return "Iran"; case 423: return "Azerbaijan"; case 425: return "Iraq"; case 428: return "Israel"; case 431: return "Japan"; case 432: return "Japan"; case 434: return "Turkmenistan"; case 436: return "Kazakhstan"; case 437: return "Uzbekistan"; case 438: return "Jordan"; case 440: return "South Korea"; case 441: return "South Korea"; case 443: return "State of Palestine"; case 445: return "Democratic People's Republic of Korea"; case 447: return "Kuwait"; case 450: return "Lebanon"; case 451: return "Kyrgyz Republic"; case 453: return "Macao"; case 455: return "Maldives"; case 457: return "Mongolia"; case 459: return "Nepal"; case 461: return "Oman"; case 463: return "Pakistan"; case 466: return "Qatar"; case 468: return "Syrian Arab Republic"; case 470: return "United Arab Emirates"; case 472: return "Tajikistan"; case 473: return "Yemen"; case 475: return "Yemen"; case 477: return "Hong Kong"; case 478: return "Bosnia and Herzegovina"; case 501: return "Adelie Land"; case 503: return "Australia"; case 506: return "Myanmar"; case 508: return "Brunei Darussalam"; case 510: return "Micronesia"; case 511: return "Palau"; case 512: return "New Zealand"; case 514: return "Cambodia"; case 515: return "Cambodia"; case 516: return "Christmas Island (Indian Ocean)"; case 518: return "Cook Islands"; case 520: return "Fiji"; case 523: return "Cocos (Keeling) Islands"; case 525: return "Indonesia"; case 529: return "Kiribati"; case 531: return "Lao People's Democratic Republic"; case 533: return "Malaysia"; case 536: return "Northern Mariana Islands"; case 538: return "Ilhas Marshall"; case 540: return "New Caledonia"; case 542: return "Niue"; case 544: return "Nauru"; case 546: return "French Polynesia"; case 548: return "Philippines"; case 553: return "Papua New Guinea"; case 555: return "Pitcairn Island"; case 557: return "Solomon Islands"; case 559: return "American Samoa"; case 561: return "Samoa"; case 563: return "Singapore"; case 564: return "Singapore"; case 565: return "Singapore"; case 566: return "Singapore"; case 567: return "Thailand"; case 570: return "Tonga"; case 572: return "Tuvalu"; case 574: return "Viet Nam"; case 576: return "Vanuatu"; case 577: return "Vanuatu"; case 578: return "Wallis and Futuna Islands"; case 601: return "South Africa"; case 603: return "Angola"; case 605: return "Algeria"; case 607: return "Saint Paul and Amsterdam Islands"; case 608: return "Ascension Island"; case 609: return "Burundi"; case 610: return "Benin"; case 611: return "Botswana"; case 612: return "Central African Republic"; case 613: return "Cameroon"; case 615: return "Congo"; case 616: return "Comoros"; case 617: return "Cabo Verde"; case 618: return "Crozet Archipelago"; case 619: return "Côte d'Ivoire"; case 620: return "Comoros"; case 621: return "Djibouti"; case 622: return "Egypt"; case 624: return "Ethiopia"; case 625: return "Eritrea"; case 626: return "Gabonese Republic"; case 627: return "Ghana"; case 629: return "Gambia"; case 630: return "Guinea-Bissau"; case 631: return "Equatorial Guinea"; case 632: return "Guinea"; case 633: return "Burkina Faso"; case 634: return "Kenya"; case 635: return "Kerguelen Islands"; case 636: return "Liberia"; case 637: return "Liberia"; case 638: return "South Sudan"; case 642: return "Libya"; case 644: return "Lesotho"; case 645: return "Mauritius"; case 647: return "Madagascar"; case 649: return "Mali"; case 650: return "Mozambique"; case 654: return "Mauritania"; case 655: return "Malawi"; case 656: return "Niger"; case 657: return "Nigeria"; case 659: return "Namibia"; case 660: return "Reunion (French Department)"; case 661: return "Rwanda"; case 662: return "Sudan"; case 663: return "Senegal"; case 664: return "Seychelles"; case 665: return "Saint Helena"; case 666: return "Somalia"; case 667: return "Sierra Leone"; case 668: return "Sao Tome and Principe"; case 669: return "Swaziland"; case 670: return "Chad"; case 671: return "Togolese Republic"; case 672: return "Tunisia"; case 674: return "Tanzania"; case 675: return "Uganda"; case 676: return "Democratic Republic of the Congo"; case 677: return "Tanzania"; case 678: return "Zambia"; case 679: return "Zimbabwe"; case 701: return "Argentine"; case 710: return "Brazil"; case 720: return "Bolivia"; case 725: return "Chile"; case 730: return "Colombia"; case 735: return "Ecuador"; case 740: return "Falkland Islands (Malvinas)"; case 745: return "Guiana (French Department)"; case 750: return "Guyana"; case 755: return "Paraguay"; case 760: return "Peru"; case 765: return "Suriname"; case 770: return "Uruguay"; case 775: return "Venezuela";            default: return "Desconhecida";
        }
    }
	
    function generateResponse2() {
	event.preventDefault();
        let checkboxes2 = document.querySelectorAll('input[name="options2"]:checked');
        let response2 = [];
        let response4 = [];
        checkboxes2.forEach((checkbox) => {
        let row = checkbox.closest('tr'); // Encontra a linha da checkbox
        let value = checkbox.value; // Pega o valor da checkbox
        let description = row.querySelector('td#descrição').innerText; // Pega o texto do <td> com id "descrição"
          response4.push(`${value} - ${description}`);
          response2.push(value);
        });
        document.getElementById('security2').innerText = response2.join('; ');
        document.getElementById('security4').innerText = response4.join(';\n');
		let checkboxes = document.querySelectorAll('input[name="options"]:checked');
        let response1 = [];
        let response3 = [];
        checkboxes.forEach((checkbox) => {
            let row = checkbox.closest('tr'); // Encontra a linha da checkbox
            let value = checkbox.value; // Pega o valor da checkbox
            let description = row.querySelector('td#descrição').innerText; // Pega o texto do <td> com id "descrição"
            response3.push(`${value} - ${description}`);
            response1.push(checkbox.value);
        });
        document.getElementById('safety1').innerText = response1.join('; ');
        document.getElementById('safety3').innerText = response3.join(';\n');
    }
		function openFormButton(event) {
            // Prevenir o comportamento padrão de envio do formulário
            event.preventDefault();
			window.open('Formulario_NAESP_-_CAMTES.html', '_blank');
        }
		function openFormButton(event) {
            // Prevenir o comportamento padrão do botão
            event.preventDefault();
            // Abrir o formulário em uma nova aba
            window.open('1.1.Formulario_NAESP_-_CAMTES.html', '_blank');
        }

        function abrirEquasis() {
            // Prevenir o comportamento padrão do botão
            event.preventDefault();
			
            // Obter o valor do campo de entrada
            const imoValue = document.getElementById('imo').value.trim();
			
			 // Verificar se o campo não está vazio
            if (imoValue) {
                // Construir a URL com o valor do IMO
                const url = `http://www.sistram.mar.mil.br/sistram4/MAG/buscar_navio_equasis_limpo.php?P1=${imoValue}`;

                // Abrir a URL em uma nova aba
                window.open(url, '_blank');
            } else {
                alert('Por favor, insira um número IMO válido.');
            }
        }
					
            function buscarIMO(event) {
            // Prevenir o comportamento padrão de envio do formulário
            event.preventDefault();

            // Obter o valor do campo de entrada
            const imoValue = document.getElementById('imo').value.trim();

            // Verificar se o campo não está vazio
            if (imoValue) {
                // Construir a URL com o valor do IMO
                const url = `https://camtes.net/VSS/Vessels/VesselDetails.aspx?IMO=${imoValue}`;

                // Abrir a URL em uma nova aba
                window.open(url, '_blank');
            } else {
                alert('Por favor, insira um número IMO válido.');
            }
        }
 
        function criarTxt() {
            const form = document.getElementById('messageForm');
			// Verificação dos campos obrigatórios
    if (!form.para.value) {
        alert("Coloque um Distrito Naval, como Destino!");
        return;
    }
    if (!form.info.value) {
        alert("Preencha uma CDA ou coloque um 'espaço'!");
        return;
    }
    if (!form.nomeNavio.value) {
        alert("Preencha o 'Nome do Navio'!");
        return;
    }
    if (!form.imo.value) {
        alert("Preencha o 'IMO'!");
        return;
    }
    if (!form.mmsi.value) {
        alert("Preencha o 'MMSI'!");
        return;
    }
    if (!form.bandeira.value) {
        alert("O navio não tem Bandeira?");
        return;
    }
    if (!form.tipoNavio.value) {
        alert("Preencha o 'Tipo do Navio'!");
        return;
    }
    if (!form.porto.value) {
        alert("Preencha o campo 'Porto' para criar a mensagem!");
        return;
    }
    if (!form.latitudeGrau.value || !form.latitudeMinuto.value || !form.latitudeSegundo.value || !form.latitudeDirecao.value || 
        !form.longitudeGrau.value || !form.longitudeMinuto.value || !form.longitudeSegundo.value || !form.longitudeDirecao.value) {
        alert("Preencha todos os campos de coordenadas para criar a mensagem!");
        return;
    }
    if (!form.dataPosicao.value) {
        alert("Preencha os campos de data de posição (dia, mês, ano) para criar a mensagem!");
        return;
    }
            const ultimaPosicao = `${form.latitudeGrau.value}°${form.latitudeMinuto.value}'${form.latitudeSegundo.value}"${form.latitudeDirecao.value}, ${form.longitudeGrau.value}°${form.longitudeMinuto.value}'${form.longitudeSegundo.value}"${form.longitudeDirecao.value}`;
            const texto = `ESSA PARTE VAI SER ESCRITA/COLADA NO CABEÇALHO:

ROTINA
R-XXXXXXZ/___/202_
DE: TERDIS
PARA: COMPAZ
INFO: AGAGAG CIMBRA CPCPCP DRGNAV GPNDES OPENAV PRTCOS ZZZBBB XMT NBHAES ${form.info.value}
ASSUNTO: NAVIO DE ACOMPANHAMENTO ESPECIAL (NAESP)

------------------------------------------------
ESSA PARTE VAI SER COLADA NO TEXTO DA MENSAGEM:

ROTINA
R-XXXXXXZ/___/202_
DE TERDIS
PARA  COMPAZ
INFO  AGAGAG CIMBRA CPCPCP DRGNAV GPNDES OPENAV PRTCOS ZZZBBB XMT NBHAES ${form.info.value}
GRNC
BT
DOCUMENTO PREPARATÓRIO - ACESSO RESTRITO

NAVIO DE ACOMPANHAMENTO ESPECIAL (NAESP) - ${form.nomeNavio.value}

ALFA - COMPAAz: Em rotina de monitoramento do TM na Aj deste CRSM,foi identificado,
via SISTRAM V, a EMB "${form.nomeNavio.value}",navio de pesquisa estrangeiro,
sendo classificada como NAESP(VOI) ACD inciso 6.1 da COMOPNAVINST 31-22A.

UNO - Dados da Embarcação:
- NOME: ${form.nomeNavio.value};
- IMO: ${form.imo.value};
- MMSI: ${form.mmsi.value};
- IRIN: ${form.Irin.value};
- TIPO: Pesquisa;
- BANDEIRA: ${form.bandeira.value};
- ÚLTIMA POSIÇÃO: ${ultimaPosicao} em: ${form.dataPosicao.value};
- Último porto visitado:
- Destino:${form.porto.value}, ACD SISTRAM V;e
- Situação:

DOIS - ACD Tabelas de Segurança Marítima ("SAFETY") e/ou Proteção Marítima ("SECURITY"),
REF EMB apresenta risco ao Tráfego Marítimo, à luz dos seguintes
parâmetros envolvidos em sua classificação: 
Safety: (${document.getElementById('safety1').innerText}) e 
Security: (${document.getElementById('security2').innerText}); e

BRAVO - Este CRSM manterá o ACO da EMB e informará tempestivamente caso ocorra fatos relevantes.
BT
`;

//REF ofício nº ${form.oficio.value}/2025 da ANTAQ sobre a atracação do NM “${form.nomeNavio.value}” no porto do ${form.porto.value}, PTC:
//UNO - NAV se encontrava navegando a ___ MN, à (norte,sul,leste,oeste...) de _____________, em ${form.dataPosicao.value};
//DOIS - NAV se encontra na ${form.parismou.value}list do sistema EQUASIS, CFM Memorando de Entendimento de Paris e ${form.tokyomou.value}list do Memorando de Entendimento de Tokyo;
//TRÊS - NAV classificado como ${form.naesp.value}, IMO ${form.imo.value}, bandeira do ${form.bandeira.value}, do tipo ${form.tipoNavio.value}, com ETA em ${form.ETA.value};
//QUATRO - NAV possui a seguinte análise de risco, 
//ACD Tabelas de Segurança da Navegação e Proteção Marítima, 
//Safety: (${document.getElementById('safety1').innerText}) e 
//Security: (${document.getElementById('security2').innerText}); e
//CINCO - Novas informações constarão na fonte NAESP do SISTRAM.
//BRAVO - Caso haja, CNS PSB de que outros dados de interesse para a Segurança Marítima sejam inseridos no sistema
//BT
//------------------------------------------------
//COLOCAR ESSA PARTE ABAIXO NAS OBSERVAÇOES/COMENTARIO DO SIGDEM
//Observações: Em resposta a(o) Oficio nº: ${form.oficio.value}/2025 da ANTAQ
//"SAFETY":
//${document.getElementById('safety3').innerText}
//"SECURITY":
//${document.getElementById('security4').innerText}
//`;
//PTC RCB INF da ANTAQ sobre atracação de EMB incluída em categoria de desempenho que pode trazer risco ao TM, com previsão de operação no Porto: ${form.porto.value}. 
//Segundo levantamentos, REF EMB encontra-se na ${form.parismou.value} do Paris MoU e ${form.tokyomou.value} do Tokyo MoU. 
//Assim, este comando classificou como NAESP (${form.naesp.value}), CFM dados a seguir:
//
//UNO - Dados do NAV:
//NOME: ${form.nomeNavio.value};
//IMO: ${form.imo.value};
//MMSI: ${form.mmsi.value};
//BANDEIRA: ${form.bandeira.value};
//TIPO: ${form.tipoNavio.value}; e
//ÚLTIMA POSIÇÃO: ${ultimaPosicao} em: ${form.dataPosicao.value}.
//
//DOIS - ACD com a Tabela da Navegação "SAFETY" e Tabela de Proteção Maritima "SECURITY", o REF NM possui a seguinte análise de risco:
//
//"SAFETY":
//${document.getElementById('safety1').innerText}
//
//"SECURITY":
//${document.getElementById('security2').innerText}
//
//TRÊS - CNS PSB de manter este Comando INF do resultado da inspeção pelo PSC, caso haja, e outras ações tomadas. Adicionalmente, caso seja oportuno, realizar registros fotográficos da EMB e inseri-las no cartão de identificação, na aba "ARQUIVOS RELACIONADOS", do SISTRAM V. INF adicionais sobre as EMB constam no campo "Informações sobre o meio" no REF sistema, no Cartão de Dados das EMB
//BT
//
//
// USAR ESSA PARTE NA COMO MODELO DE DE RELATORIO:
// NOME: ${form.nomeNavio.value}
// IMO: ${form.imo.value}
// MMSI: ${form.mmsi.value}
// BANDEIRA: ${form.bandeira.value}
// TOKYO MOU: ${form.tokyomou.value}
// PARIS MOU: ${form.parismou.value}
// CLASSIFICAÇÃO DA OPERADORA: ${form.textodaclassificacao.value}
// P & I: ${form.textodopei.value}
// ANO DE FABRICAÇÃO:
// ÚLTIMA INSPEÇÃO:
// DETENÇÕES:
// ATRACAÇÃO NO BRASIL:
// INSPECIONADO NO BRASIL:
// NAESP:
// CLASSIFICAÇÃO DE RISCO CAMTES:
// SAFETY:
// SECURITY:

	    const filename = `${form.imo.value} - ${form.nomeNavio.value}.txt`.replace(/[/\\?%*:|"<>]/g, '-');

            const blob = new Blob([texto], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }
document.getElementById('open_btn').addEventListener('click', function () {
document.getElementById('sidebar').classList.toggle('open-sidebar');
});
    </script>
</body>
</html>



